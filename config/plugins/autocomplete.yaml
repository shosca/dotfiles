---
- repo: Shougo/deoplete.nvim
  if: has('nvim')
  depends: [context_filetype.vim]
  hook_add: |
    let g:deoplete#enable_at_startup = 1

- repo: autozimu/LanguageClient-neovim
  rev: 'next'
  depends: [deoplete.nvim]
  build: bash install.sh
  hook_source: |
    let g:LanguageClient_autoStart = 1
    let g:LanguageClient_serverCommands = {}
    let g:LanguageClient_serverCommands.rust = ['rustup', 'run', 'nightly', 'rls']
    let g:LanguageClient_serverCommands.python = ['pyls']
    let g:LanguageClient_serverCommands.javascript = ['javascript-typescript-stdio']
    autocmd FileType python nnoremap <buffer> <leader>d :call LanguageClient#textDocument_definition()<CR>
    autocmd FileType python nnoremap <buffer> <leader>K :call LanguageClient#textDocument_hover()<CR>
    autocmd FileType python nnoremap <buffer> <leader>n :call LanguageClient#textDocument_references()<CR>
    autocmd FileType python nnoremap <buffer> <leader>r :call LanguageClient#textDocument_formatting()<CR>
    autocmd FileType javascript setlocal omnifunc=LanguageClient#complete
    autocmd FileType python setlocal omnifunc=LanguageClient#complete

- repo: Shougo/neocomplete
  if: ! has('nvim') && has('lua')
  on_event: InsertEnter

- repo: wellle/tmux-complete.vim
  if: has('nvim')
  on_event: InsertEnter
  hook_add: let g:tmuxcomplete#trigger = ''
